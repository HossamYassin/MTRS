/*! @preserve
 * bstreeview.js
 * Version: 0.0.1
 * Authors: Sami CHNITER <sami.chniter@gmail.com>
 * Copyright 2020
 * License: Apache License 2.0
 * 
 * Project: https://github.com/chniter/bstreeview
 */
!function (t, e, i, s) { "use strict"; var n = { expandIcon: "fa fa-angle-down", collapseIcon: "fa fa-angle-right", indent: 1.25 }, a = '<div href="#itemid" class="list-group-item" data-toggle="collapse"></div>', d = '<div class="list-group collapse" id="itemid"></div>', o = '<i class="state-icon"></i>', l = '<i class="item-icon"></i>'; function r(e, i) { this.element = e, this.itemIdPrefix = e.id + "-item-", this.settings = t.extend({}, n, i), this.init() } t.extend(r.prototype, { init: function () { this.tree = [], this.nodes = [], this.settings.data && (this.settings.data = t.parseJSON(this.settings.data), this.tree = t.extend(!0, [], this.settings.data), delete this.settings.data), t(this.element).addClass("bstreeview"), this.initData({ nodes: this.tree }); var e = this; this.build(t(this.element), this.tree, 0), t(".bstreeview").on("click", ".list-group-item", function () { t(".state-icon", this).toggleClass(e.settings.expandIcon).toggleClass(e.settings.collapseIcon) }) }, initData: function (e) { if (e.nodes) { var i = e, s = this; t.each(e.nodes, function (t, e) { e.nodeId = s.nodes.length, e.parentId = i.nodeId, s.nodes.push(e), e.nodes && s.initData(e) }) } }, build: function (e, i, s) { var n = this, r = "1.25rem;"; s > 0 && (r = (n.settings.indent + s * n.settings.indent).toString() + "rem;"), s += 1, t.each(i, function (i, c) { var h = t(a).attr("href", "#" + n.itemIdPrefix + c.nodeId).attr("style", "padding-left:" + r); if (c.nodes) { var g = t(o).addClass(n.settings.collapseIcon); h.append(g) } if (c.icon) { var p = t(l).addClass(c.icon); h.append(p) } if (h.append(c.text), e.append(h), c.nodes) { var f = t(d).attr("id", n.itemIdPrefix + c.nodeId); e.append(f), n.build(f, c.nodes, s) } }) } }), t.fn.bstreeview = function (e) { return this.each(function () { t.data(this, "plugin_bstreeview") || t.data(this, "plugin_bstreeview", new r(this, e)) }) } }(jQuery, window, document);